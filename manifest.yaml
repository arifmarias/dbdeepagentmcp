version: 1
name: "conversational-agent-app"
description: "Interact with your structured data using natural language to generate deep insights and analytics—no SQL expertise required."

resource_specs:
  - name: "serving-endpoint"
    description: "Serving endpoint for the data chat app"
    serving_endpoint_spec:
      permission: "CAN_QUERY"
  - name: "genie-space"
    description: "Genie space for the data chat app"
    genie_space_spec:
      permission: "CAN_RUN"

# ✅ CRITICAL: Add apps.apps scope for OBO authentication with MCP
user_api_scopes:
  - serving.serving-endpoints
  - dashboards.genie
  - dashboards
  - files.files
  - sql
  - apps.apps  # ✅ REQUIRED for OBO authentication with MCP